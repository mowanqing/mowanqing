(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{428:function(v,_,l){"use strict";l.r(_);var o=l(21),i=Object(o.a)({},(function(){var v=this,_=v.$createElement,l=v._self._c||_;return l("ContentSlotsDistributor",{attrs:{"slot-key":v.$parent.slotKey}},[l("h2",{attrs:{id:"用户配置文件"}},[l("a",{staticClass:"header-anchor",attrs:{href:"#用户配置文件"}},[v._v("#")]),v._v(" 用户配置文件")]),v._v(" "),l("p",[v._v("用户信息文件:"),l("strong",[v._v("/etc/passwd")])]),v._v(" "),l("p",[v._v("影子文件:"),l("strong",[v._v("/etc/shadow")])]),v._v(" "),l("p",[v._v("组信息文件:"),l("strong",[v._v("/etc/group")]),v._v("和组密码文件:"),l("strong",[v._v("/etc/gshadow")])]),v._v(" "),l("ol",[l("li",[v._v("/etc/passwd\n"),l("ol",[l("li",[v._v("第一字段:用户名称")]),v._v(" "),l("li",[v._v("第二字段:密码标志")]),v._v(" "),l("li",[v._v("第三字段:UID(用户ID)\n"),l("ol",[l("li",[v._v("0:超级用户")]),v._v(" "),l("li",[v._v("1-499:系统用户(伪用户)")]),v._v(" "),l("li",[v._v("500-65535:普通用户")])])]),v._v(" "),l("li",[v._v("第四字段GID(用户初始组ID)")]),v._v(" "),l("li",[v._v("第五字段用户说明")]),v._v(" "),l("li",[v._v("第六字段家目录\n"),l("ol",[l("li",[v._v("普通用户:/home/用户名/")]),v._v(" "),l("li",[v._v("超级用户:/root")])])]),v._v(" "),l("li",[v._v("第7字段:登录之后的Shell")])])])]),v._v(" "),l("h3",{attrs:{id:"初始组和附加组"}},[l("a",{staticClass:"header-anchor",attrs:{href:"#初始组和附加组"}},[v._v("#")]),v._v(" 初始组和附加组")]),v._v(" "),l("p",[v._v("初始组:用户一登录就有这个用户组的相关权限")]),v._v(" "),l("p",[v._v("附加组:用户可以加入多个其他的用户组,并拥有这些组的权限,附加组可以有多个.")]),v._v(" "),l("ol",{attrs:{start:"2"}},[l("li",[v._v("/etc/shadow\n"),l("ol",[l("li",[v._v("第一字段:用户名称")]),v._v(" "),l("li",[v._v("第二字段:加密密码\n"),l("ol",[l("li",[v._v("加密算法升级为SHA512散列加密算法")]),v._v(" "),l("li",[v._v("如果密码位是!!或*代表没有密码,不能登录")])])]),v._v(" "),l("li",[v._v("第三字段:密码最后一次修改日期\n"),l("ol",[l("li",[v._v("1970年1月1日作为标准时间,没过一天事件戳加1")])])]),v._v(" "),l("li",[v._v("第四字段:两次密码的修改间隔时间")]),v._v(" "),l("li",[v._v("第五字段密码有效期")]),v._v(" "),l("li",[v._v("第六字段:密码修改到期前的警告天数(和第五子段相比)")]),v._v(" "),l("li",[v._v("第七字段:密码过期后的宽限天数(和第5字段相比)\n"),l("ol",[l("li",[v._v("0:代表密码过期后立即失效")]),v._v(" "),l("li",[v._v("-1:则代表密码永远不会失效")])])]),v._v(" "),l("li",[v._v("第8字段:账号失效时间\n"),l("ol",[l("li",[v._v("要用时间戳表示")])])]),v._v(" "),l("li",[v._v("第9字段:保留")])])])]),v._v(" "),l("p",[v._v("把时间戳换算为日期")]),v._v(" "),l("p",[l("code",[v._v('date -d "1970-01-01 16066 days"')])]),v._v(" "),l("p",[v._v("把日期换算为时间戳")]),v._v(" "),l("p",[l("code",[v._v('echo $(($(date --date="2021/02/09" +%s)/86400+1))')])]),v._v(" "),l("h3",{attrs:{id:"组信息文件-etc-group和组密码文件-etc-gshadow"}},[l("a",{staticClass:"header-anchor",attrs:{href:"#组信息文件-etc-group和组密码文件-etc-gshadow"}},[v._v("#")]),v._v(" 组信息文件/etc/group和组密码文件/etc/gshadow")]),v._v(" "),l("ol",[l("li",[l("p",[v._v("组信息文件/etc/group")]),v._v(" "),l("ol",[l("li",[v._v("组名")]),v._v(" "),l("li",[v._v("组密码标志")]),v._v(" "),l("li",[v._v("GID")]),v._v(" "),l("li",[v._v("组中附加用户")])]),v._v(" "),l("p",[v._v("2.组密码文件/etc/gshadow")]),v._v(" "),l("ol",[l("li",[v._v("组名")]),v._v(" "),l("li",[v._v("组密码")]),v._v(" "),l("li",[v._v("组管理员用户名")]),v._v(" "),l("li",[v._v("组中附加用户")])])])]),v._v(" "),l("h2",{attrs:{id:"用户管理相关文件"}},[l("a",{staticClass:"header-anchor",attrs:{href:"#用户管理相关文件"}},[v._v("#")]),v._v(" 用户管理相关文件")]),v._v(" "),l("ol",[l("li",[l("p",[v._v("用户的家目录")]),v._v(" "),l("ol",[l("li",[v._v("普通用户:/home/用户名,所有者和所有组都是此用户,权限是700")]),v._v(" "),l("li",[v._v("超级用户:/root,所有者和所属组都是root用户,权限是550")])])]),v._v(" "),l("li",[l("p",[v._v("用户的邮箱")]),v._v(" "),l("ol",[l("li",[v._v("/var/spool/mail/用户名")])])]),v._v(" "),l("li",[l("p",[v._v("用户模板目录")]),v._v(" "),l("ol",[l("li",[v._v("/etc/skel")])])])]),v._v(" "),l("h2",{attrs:{id:"用户管理命令"}},[l("a",{staticClass:"header-anchor",attrs:{href:"#用户管理命令"}},[v._v("#")]),v._v(" 用户管理命令")]),v._v(" "),l("h3",{attrs:{id:"用户"}},[l("a",{staticClass:"header-anchor",attrs:{href:"#用户"}},[v._v("#")]),v._v(" 用户")]),v._v(" "),l("ol",[l("li",[v._v("用户添加命令 "),l("code",[v._v("useradd")]),v._v(" "),l("ol",[l("li",[v._v("-u UID:手工指定用户的UID号")]),v._v(" "),l("li",[v._v("-d 家目录:手工指定用户的家目录")]),v._v(" "),l("li",[v._v("-c 用户说明:手工指定用户的说明")]),v._v(" "),l("li",[v._v("-g 组名:手工指定用户的初始组")]),v._v(" "),l("li",[v._v("-G 组名: 指定用户的附加组")]),v._v(" "),l("li",[v._v("-s shell:手工指定用户的登录shell 默认是/bin/bash")]),v._v(" "),l("li",[v._v("/etc/login.defs 可以改密码有效期")])])]),v._v(" "),l("li",[v._v("修改用户密码 "),l("code",[v._v("passwd")]),v._v(" "),l("ol",[l("li",[v._v("-s 查询用户密码的密码状态,仅root用户可用")]),v._v(" "),l("li",[v._v("-l 暂时锁定用户,仅root用户可用")]),v._v(" "),l("li",[v._v("-u解锁用户,仅root用户可用")]),v._v(" "),l("li",[v._v("--stdin 可以通过管道符输出的数据作为用户的密码\n"),l("ol",[l("li",[l("code",[v._v('echo "123" |passwd --stdin userName')])])])])])]),v._v(" "),l("li",[v._v("修改用户信息 "),l("code",[v._v("usermod")]),v._v(" "),l("ol",[l("li",[v._v("-u UID:手工指定用户的UID号")]),v._v(" "),l("li",[v._v("-c 用户说明:手工指定用户的说明")]),v._v(" "),l("li",[v._v("-G 组名: 指定用户的附加组\n"),l("ol",[l("li",[l("code",[v._v("usermod -G root userName")])])])]),v._v(" "),l("li",[v._v("-L: 临时锁定用户(Lock)")]),v._v(" "),l("li",[v._v("-U:解锁用户锁定(Unlock)")])])]),v._v(" "),l("li",[v._v("修改用户密码状态  "),l("code",[v._v("chage")]),v._v(" "),l("ol",[l("li",[v._v("-l 列出用户的详细密码状态")]),v._v(" "),l("li",[v._v("-d:日期: 修改密码最后一次更改日期 3字段\n"),l("ol",[l("li",[l("code",[v._v("change -d 0 userName")])])])]),v._v(" "),l("li",[v._v("-m天数:两次密码修改间隔 4字段")]),v._v(" "),l("li",[v._v("-M 天数:密码有效期 5字段")]),v._v(" "),l("li",[v._v("-W 天数:密码过期前警告天数 6字段")]),v._v(" "),l("li",[v._v("-I 天数:密码过期后宽限天数 7字段")]),v._v(" "),l("li",[v._v("-E 日期:账号失效时间 8字段")])])]),v._v(" "),l("li",[v._v("删除用户 "),l("code",[v._v("userdel")]),v._v(" "),l("ol",[l("li",[v._v("-r 删除用户的同时删除用户家目录")])])]),v._v(" "),l("li",[v._v("用户切换命令 "),l("code",[v._v("su")]),v._v(" "),l("ol",[l("li",[v._v('-:选项只使用"-"代表连带用户的环境变量一起切换')]),v._v(" "),l("li",[v._v("-c命令:仅执行一次命令,而不切换用户身份\n"),l("ol",[l("li",[l("code",[v._v('su - root -c "useradd user3"')])])])])])])]),v._v(" "),l("h3",{attrs:{id:"用户组"}},[l("a",{staticClass:"header-anchor",attrs:{href:"#用户组"}},[v._v("#")]),v._v(" 用户组")]),v._v(" "),l("ol",[l("li",[v._v("添加用户组 "),l("code",[v._v("groupadd 组名")]),v._v(" "),l("ol",[l("li",[v._v("-g GID: 指定组ID")])])]),v._v(" "),l("li",[v._v("修改用户组:"),l("code",[v._v("groupmod 组名")]),v._v(" "),l("ol",[l("li",[v._v("-g GID: 修改组")]),v._v(" "),l("li",[v._v("-n 新组名: 修改组名\n"),l("ol",[l("li",[l("code",[v._v("groupmod -n testgrp group1")])])])])])]),v._v(" "),l("li",[v._v("删除用户组\n"),l("ol",[l("li",[v._v("groupdel 组名\n"),l("ol",[l("li",[v._v("这个组不允许有初始组存在,不然无法删除u该组")])])])])]),v._v(" "),l("li",[v._v("把用户添加入组或从组中删除\n"),l("ol",[l("li",[v._v("gpasswd 选项 组名\n"),l("ol",[l("li",[v._v("-a 用户名: 把用户加入组\n"),l("ol",[l("li",[l("code",[v._v("gpasswd -a user1 root")])])])]),v._v(" "),l("li",[v._v("-d 用户名: 把用户从组中删除\n"),l("ol",[l("li",[l("code",[v._v("gpasswd -d user1 root")])])])])])])])])])])}),[],!1,null,null,null);_.default=i.exports}}]);