(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{430:function(v,_,e){"use strict";e.r(_);var l=e(21),i=Object(l.a)({},(function(){var v=this,_=v.$createElement,e=v._self._c||_;return e("ContentSlotsDistributor",{attrs:{"slot-key":v.$parent.slotKey}},[e("h2",{attrs:{id:"软件包分类"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#软件包分类"}},[v._v("#")]),v._v(" 软件包分类")]),v._v(" "),e("p",[e("strong",[v._v("源码包")]),v._v(":脚本安装包")]),v._v(" "),e("p",[e("strong",[v._v("二进制包")]),v._v("(RPM包,系统默认包)")]),v._v(" "),e("p",[v._v("RPM包命名原则")]),v._v(" "),e("p",[v._v("httpd-2.2.15-15.e16.centos.1686.rpm")]),v._v(" "),e("ul",[e("li",[e("p",[v._v("httpd  软件包名")])]),v._v(" "),e("li",[e("p",[v._v("2.2.15 软件版本")])]),v._v(" "),e("li",[e("p",[v._v("15   软件发布的次数")])]),v._v(" "),e("li",[e("p",[v._v("e16.centos 适合的Linux平台")])]),v._v(" "),e("li",[e("p",[v._v("i686 适合的硬件平台")])]),v._v(" "),e("li",[e("p",[v._v("rpm rpm包扩展名")])])]),v._v(" "),e("h2",{attrs:{id:"rpm包依赖性"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#rpm包依赖性"}},[v._v("#")]),v._v(" RPM包依赖性")]),v._v(" "),e("ul",[e("li",[v._v("树形依赖:a>b>c")]),v._v(" "),e("li",[v._v("环形依赖:a>b>c>a")]),v._v(" "),e("li",[v._v("模块依赖:www.rpmfind.net")])]),v._v(" "),e("p",[v._v("RPM安装")]),v._v(" "),e("p",[v._v("rpm -ivh 包全名")]),v._v(" "),e("ul",[e("li",[v._v("-i(install )   安装")]),v._v(" "),e("li",[v._v("-v(verbose) 显示详细信息")]),v._v(" "),e("li",[v._v("-h(hash) 显示进度")]),v._v(" "),e("li",[v._v("--nodeps 不检测依赖性")])]),v._v(" "),e("p",[v._v("RPM包升级")]),v._v(" "),e("p",[v._v("rpm -Uvh 包全名")]),v._v(" "),e("ul",[e("li",[v._v("U(upgrade)  升级")])]),v._v(" "),e("p",[v._v("rpm -e 包名")]),v._v(" "),e("ul",[e("li",[v._v("-e(erase) 卸载")]),v._v(" "),e("li",[v._v("--nodeps 不检查依赖性")])]),v._v(" "),e("p",[v._v("查询是否安装")]),v._v(" "),e("p",[e("code",[v._v("rpm -q 包名")])]),v._v(" "),e("ul",[e("li",[v._v("-q 查询(query)")])]),v._v(" "),e("p",[e("code",[v._v("rpm -qa")])]),v._v(" "),e("ul",[e("li",[v._v("-a所有(all)")])]),v._v(" "),e("p",[v._v("查询软件包详细信息")]),v._v(" "),e("p",[e("code",[v._v("rpm -qi 包名")])]),v._v(" "),e("ul",[e("li",[v._v("-i 查询软件信息")]),v._v(" "),e("li",[v._v("-p 查询未安装包信息")])]),v._v(" "),e("p",[v._v("查询包中文件安装位置")]),v._v(" "),e("p",[e("code",[v._v("rpm -ql 包名")])]),v._v(" "),e("ul",[e("li",[v._v("-l 列表")]),v._v(" "),e("li",[v._v("-p查询未安装包信息")])]),v._v(" "),e("p",[v._v("查询系统文件属于哪个RPM包")]),v._v(" "),e("p",[e("code",[v._v("rpm -qf 系统文件名")])]),v._v(" "),e("ul",[e("li",[v._v("-f 查询系统文件属于哪个软件包")])]),v._v(" "),e("p",[v._v("查询软件包的依赖性")]),v._v(" "),e("p",[e("code",[v._v("rpm -qR 包名")])]),v._v(" "),e("ul",[e("li",[v._v("R查询软件包的依赖性")]),v._v(" "),e("li",[v._v("-p查询未安装包信息")])]),v._v(" "),e("p",[v._v("RPM包的校验")]),v._v(" "),e("p",[e("code",[v._v("rpm -V 已安装的包名")])]),v._v(" "),e("ul",[e("li",[v._v("-V 校验指定RPM包中的文件")])]),v._v(" "),e("p",[v._v("验证内容中的8个信息的具体内容:")]),v._v(" "),e("ul",[e("li",[v._v("S 文件大小是否改变")]),v._v(" "),e("li",[v._v("M 文件的类型或文件的权限(rwx)是否被改变")]),v._v(" "),e("li",[v._v("5 巍峨年的MD5校验和是否改变(文件内容是否改变)")]),v._v(" "),e("li",[v._v("D 设备中,从代码是否改变")]),v._v(" "),e("li",[v._v("L 文件路径是否改变")]),v._v(" "),e("li",[v._v("U 文件的属主(所有者)是否改变")]),v._v(" "),e("li",[v._v("G 文件的属组是否改变")]),v._v(" "),e("li",[v._v("T 文件的修改时间是否改变")])]),v._v(" "),e("p",[v._v("文件类型:")]),v._v(" "),e("ul",[e("li",[v._v("c配置文件")]),v._v(" "),e("li",[v._v("d普通文档")]),v._v(" "),e("li",[v._v("g该文件不应该被在这个RPM包包含")]),v._v(" "),e("li",[v._v("L授权文件")]),v._v(" "),e("li",[v._v("r描述文件")])]),v._v(" "),e("p",[v._v("RPM包中文件提取")]),v._v(" "),e("p",[e("code",[v._v("rpm2cpio 包全名 | cpio -div .文件绝对路径")])]),v._v(" "),e("ul",[e("li",[v._v("rpm2cpio 将rpm包转换为cpio格式的命令")]),v._v(" "),e("li",[v._v("cpio 是一个标准工具,它用于创建软件档案文件和从档案文件中提取文件")])]),v._v(" "),e("p",[e("code",[v._v("cpio 选项 < [文件|设备]")])]),v._v(" "),e("ul",[e("li",[v._v("-i:copy-in模式,还原")]),v._v(" "),e("li",[v._v("-d:还原时自动新建目录")]),v._v(" "),e("li",[v._v("-v:显示还原过程")])]),v._v(" "),e("hr"),v._v(" "),e("h2",{attrs:{id:"yum在线管理"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#yum在线管理"}},[v._v("#")]),v._v(" yum在线管理")]),v._v(" "),e("h3",{attrs:{id:"ip地址配置和网络yum源"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ip地址配置和网络yum源"}},[v._v("#")]),v._v(" IP地址配置和网络yum源")]),v._v(" "),e("p",[v._v("IP地址配置:")]),v._v(" "),e("ol",[e("li",[v._v("setup配置")]),v._v(" "),e("li",[v._v('vi /etc/sysconfig/network-scripts/ifcfg-etho  把ONBOOT="no"该为yes')]),v._v(" "),e("li",[e("code",[v._v("vi /etc/yum.repos.d/CentOS-Base.repo")]),v._v(" "),e("ol",[e("li",[v._v("[base] 容器名称,一定要放在[]中")]),v._v(" "),e("li",[v._v("name容器说明,可以自己随便写")]),v._v(" "),e("li",[v._v("mirrorlist镜像站点,可以注释掉")]),v._v(" "),e("li",[v._v("baseurl yum源服务器的地址,默认时centos官方的yum源服务器,可以更改")]),v._v(" "),e("li",[v._v("enabled 容器是否生效,如果不懈或携程enable=1都是生效,携程enable=0就是不生效")]),v._v(" "),e("li",[v._v("gpgcheck 如果时1是指RPM的数字证书生效,如果是0则不生效")]),v._v(" "),e("li",[v._v("gpgkey 数字证书的公钥巍峨年保存位置,不用修改")])])])]),v._v(" "),e("h3",{attrs:{id:"yum命令"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#yum命令"}},[v._v("#")]),v._v(" yum命令")]),v._v(" "),e("p",[v._v("查询:")]),v._v(" "),e("p",[e("code",[v._v("yum list")]),v._v(" 查询所有可用软件包的列表")]),v._v(" "),e("p",[e("code",[v._v("yum search 关键字")]),v._v(" 搜索服务器上所有和关键字相关的包")]),v._v(" "),e("p",[v._v("安装:")]),v._v(" "),e("p",[e("code",[v._v("yum -y install 包名")])]),v._v(" "),e("ul",[e("li",[v._v("install 安装")]),v._v(" "),e("li",[v._v("-y 自动回答yes")])]),v._v(" "),e("p",[v._v("升级:")]),v._v(" "),e("p",[e("code",[v._v("yum -y update 包名")])]),v._v(" "),e("ul",[e("li",[v._v("update 升级")]),v._v(" "),e("li",[v._v("-y 自动回答yes")])]),v._v(" "),e("p",[v._v("卸载:")]),v._v(" "),e("p",[e("code",[v._v("yum -y remove 包名")])]),v._v(" "),e("ul",[e("li",[v._v("remove 卸载")]),v._v(" "),e("li",[v._v("-y 自动回答yes")])]),v._v(" "),e("p",[v._v("YUM软件组管理命令")]),v._v(" "),e("p",[e("code",[v._v("yum grouplist")]),v._v(" 列出所有可用的软件组列表")]),v._v(" "),e("p",[e("code",[v._v("yum groupinstall 软件组名")]),v._v(" 安装指定软件组,组名可以由grouplist查询出来")]),v._v(" "),e("p",[e("code",[v._v("yum groupremove 软件组名")]),v._v(" 卸载指定软件组")]),v._v(" "),e("h3",{attrs:{id:"光盘yum源搭建"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#光盘yum源搭建"}},[v._v("#")]),v._v(" 光盘yum源搭建")]),v._v(" "),e("p",[v._v("光盘yum源搭建步骤")]),v._v(" "),e("ol",[e("li",[v._v("挂载光盘 "),e("code",[v._v("mount/dev/cdrom /mnt/cdrom/")])]),v._v(" "),e("li",[v._v("让网络yum源文件失效(让CentOS-Media.repo生效)\n"),e("ol",[e("li",[e("code",[v._v("cd /etc/yum.repos.d/")])]),v._v(" "),e("li",[e("code",[v._v("mv CentOS-Base.repo CentOS-Base.repo.bak")])]),v._v(" "),e("li",[e("code",[v._v("mv CentOS-Debuginfo.repo CentOS-Debuginfo.repo.bak")])]),v._v(" "),e("li",[e("code",[v._v("mv CentOS-Vault.repo CentOS-Vault.repo.bak")])])])]),v._v(" "),e("li",[v._v("修改光盘yum源文件 "),e("code",[v._v("vim CentOS-Media.repo")]),v._v(" "),e("ol",[e("li",[v._v("[c6-media]")]),v._v(" "),e("li",[v._v("name=CentOS-$releasever-Media")]),v._v(" "),e("li",[v._v("baseurl=file:///mnt/cdrom")]),v._v(" "),e("li",[v._v("注释这2个不存在的地址\n"),e("ol",[e("li",[v._v("file:///media/cdrom")]),v._v(" "),e("li",[v._v("file:///media/cdrecorder")])])]),v._v(" "),e("li",[v._v("gpgcheck=1")]),v._v(" "),e("li",[v._v("enabled=1")]),v._v(" "),e("li",[v._v("把enabled=0改为enabled=1,让在这个yum源配置文件生效")]),v._v(" "),e("li",[v._v("gpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-CentOS-6")])])])]),v._v(" "),e("h2",{attrs:{id:"源码包和rpm包的区别"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#源码包和rpm包的区别"}},[v._v("#")]),v._v(" 源码包和RPM包的区别")]),v._v(" "),e("h3",{attrs:{id:"rpm包安装位置"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#rpm包安装位置"}},[v._v("#")]),v._v(" RPM包安装位置")]),v._v(" "),e("p",[v._v("/etc/ 配置文件安装目录")]),v._v(" "),e("p",[v._v("/usr/bin/ 可执行的命令安装目录")]),v._v(" "),e("p",[v._v("/usr/lib 程序所使用的函数库保存位置")]),v._v(" "),e("p",[v._v("/usr/share/doc 基本的软件使用手册保存位置")]),v._v(" "),e("p",[v._v("/usr/share/man/ 帮助文件保存位置")]),v._v(" "),e("h3",{attrs:{id:"源码包安装位置"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#源码包安装位置"}},[v._v("#")]),v._v(" 源码包安装位置")]),v._v(" "),e("p",[v._v("安装在指定位置当中,一般是")]),v._v(" "),e("p",[e("code",[v._v("/usr/local/软件名/")])]),v._v(" "),e("h3",{attrs:{id:"安装位置不同带来的影响"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#安装位置不同带来的影响"}},[v._v("#")]),v._v(" 安装位置不同带来的影响")]),v._v(" "),e("p",[v._v("RPM包安装的服务可以使用系统服务管理命令(service)来管理,例如RPM包安装的apache的启动方法是:")]),v._v(" "),e("p",[e("code",[v._v("/etc/rc.d/init.d/httpd start")])]),v._v(" "),e("p",[e("code",[v._v("service httpd start")])]),v._v(" "),e("p",[v._v("源码包安装的服务则不能被服务管理命令管理,因为i没有装到默认路径中")]),v._v(" "),e("p",[e("code",[v._v("/usr/local/apache2/bin/apachectl start")])]),v._v(" "),e("h3",{attrs:{id:"源码包安装过程"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#源码包安装过程"}},[v._v("#")]),v._v(" 源码包安装过程")]),v._v(" "),e("ol",[e("li",[v._v("下载源码包\n"),e("ol",[e("li",[v._v("源代码保存位置:/usr/local/src/")]),v._v(" "),e("li",[v._v("软件安装位置:/usr/local")])])]),v._v(" "),e("li",[v._v("解压缩下载的源码包\n"),e("ol",[e("li",[e("code",[v._v("tar -zxvf 压缩包")])]),v._v(" "),e("li",[e("code",[v._v("du -sh 目录")]),v._v(" 查看大小")])])]),v._v(" "),e("li",[v._v("进入解压缩目录\n"),e("ol",[e("li",[v._v("cd 目录")])])]),v._v(" "),e("li",[v._v("软件配置与检查 ./configure\n"),e("ol",[e("li",[v._v("定义需要的功能选项\n"),e("ol",[e("li",[v._v("./configure  --prefix = /usr/local/apache2")])])]),v._v(" "),e("li",[v._v("检测系统环境是否符合安装要求")]),v._v(" "),e("li",[v._v("把定义好的功能选项和检测系统环境的信息都写入Makefile文件,用于后续的编辑.")])])]),v._v(" "),e("li",[v._v("make 编译\n"),e("ol",[e("li",[v._v("调用gcc,将apache从源码包翻译成机器语言\n"),e("ol",[e("li",[v._v("如果有问题可以执行"),e("code",[v._v("make clean")]),v._v("完全清空编译产生的临时文件")])])])])]),v._v(" "),e("li",[v._v("make install\n"),e("ol",[e("li",[v._v("向文件中写入数据")])])]),v._v(" "),e("li",[v._v("启动命令\n"),e("ol",[e("li",[e("code",[v._v("/usr/local/apache2/bin/apachectl start")])])])]),v._v(" "),e("li",[v._v("删除\n"),e("ol",[e("li",[e("code",[v._v("rm -rf /usr/local/apache2/")]),v._v(" 直接删除该安装目录即可")])])])]),v._v(" "),e("h3",{attrs:{id:"脚本安装包"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#脚本安装包"}},[v._v("#")]),v._v(" 脚本安装包")]),v._v(" "),e("p",[v._v("常见于源码包,人为把安装过程写成了自动安装的脚本,只要执行脚本,定义简单的参数,就可以完成安装.")]),v._v(" "),e("p",[v._v("Webmin,图形化的方式设置用户账号,Apache,DNS,文件共享等服务.")])])}),[],!1,null,null,null);_.default=i.exports}}]);