(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{426:function(v,_,i){"use strict";i.r(_);var l=i(21),t=Object(l.a)({},(function(){var v=this,_=v.$createElement,i=v._self._c||_;return i("ContentSlotsDistributor",{attrs:{"slot-key":v.$parent.slotKey}},[i("h2",{attrs:{id:"文件系统常用命令"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#文件系统常用命令"}},[v._v("#")]),v._v(" 文件系统常用命令")]),v._v(" "),i("p",[v._v("df命令,du命令,fsck命令,和dump2fs命令")]),v._v(" "),i("p",[v._v("统计文件系统占用情况(分区用了多大空间还有多大空间)")]),v._v(" "),i("ul",[i("li",[v._v("df [选项] [挂载点]\n"),i("ul",[i("li",[v._v("-a 显示所有的文件系统信息,包括特殊文件系统,如/proc,/sysfs")]),v._v(" "),i("li",[v._v("-h使用习惯单位显示容量,如KB,MB,GB等")]),v._v(" "),i("li",[v._v("-T显示文件系统类型")]),v._v(" "),i("li",[v._v("-m以MB为单位显示容量")]),v._v(" "),i("li",[v._v("-k以KB位单位显示容量,默认就是以KB为单位")])])])]),v._v(" "),i("p",[v._v("统计目录或文件大小")]),v._v(" "),i("ul",[i("li",[v._v("du  [选项] [目录或文件名]\n"),i("ul",[i("li",[v._v("-a显示每个子文件的磁盘占用量.默认只统计子目录的磁盘占用量")]),v._v(" "),i("li",[v._v("-h使用习惯单位显示磁盘占用量,如KB,MB,GB等")]),v._v(" "),i("li",[v._v("-s统计总占用量,而不列处子目录和子文件的占用量")])])])]),v._v(" "),i("p",[v._v("文件系统修复命令fsck")]),v._v(" "),i("ul",[i("li",[i("code",[v._v("fsck [选项] 分区设备文件名")]),v._v(" "),i("ul",[i("li",[v._v("-a:不用显示用户提示,自动修复文件系统")]),v._v(" "),i("li",[v._v("-y:自动修复.和-a作用一致,不过有些文件系统只支持-y")])])])]),v._v(" "),i("p",[v._v("显示磁盘状态命令dumpe2fs")]),v._v(" "),i("ul",[i("li",[i("code",[v._v("dumpe2fs 分区设备文件名")])])]),v._v(" "),i("p",[v._v("挂载命令")]),v._v(" "),i("p",[v._v("查询与自动挂载")]),v._v(" "),i("ul",[i("li",[i("code",[v._v("mount [-l]")]),v._v(" "),i("ul",[i("li",[v._v("查询系统中已经挂载的设备,-l会显示卷标名称")])])]),v._v(" "),i("li",[i("code",[v._v("mount -a")]),v._v(" "),i("ul",[i("li",[v._v("依据配置文件/etc/fstab的内容,自动挂载")])])])]),v._v(" "),i("p",[v._v("挂载命令格式")]),v._v(" "),i("ul",[i("li",[i("code",[v._v("mount [-t 文件系统] [-L卷标名] [-o 特殊选项] 设备文件名 挂载点")]),v._v(" "),i("ul",[i("li",[v._v("-t 文件系统:加入文件系统类型来指定挂载的类型,可以ext3,ext4,iso9660等文件系统")]),v._v(" "),i("li",[v._v("-L 卷标名: 挂载指定卷标的分区,而不是安装设备文件名挂载")]),v._v(" "),i("li",[v._v("-o 特殊选项:可以指定挂载的额外选项")]),v._v(" "),i("li",[i("code",[v._v("mount -o remount,noexec /home")])]),v._v(" "),i("li",[i("img",{attrs:{src:"https://gitee.com/chobits01/image/raw/master/image/image-20210210150508764.png",alt:"image-20210210150508764"}})])])])]),v._v(" "),i("p",[v._v("挂载光盘(/media)与u盘(/mnt)")]),v._v(" "),i("ul",[i("li",[v._v("挂载光盘(sr0和cdrom是同一个设备)\n"),i("ul",[i("li",[i("code",[v._v("mkdir /media/cdrom")]),v._v(" "),i("ul",[i("li",[v._v("建立挂载点")])])]),v._v(" "),i("li",[v._v("mount -t iso9660 /dev/cdrom /media/cdrom\n"),i("ul",[i("li",[v._v("挂载光盘")])])]),v._v(" "),i("li",[i("code",[v._v("mount /dev/sr0 /media/cdrom")])])])]),v._v(" "),i("li",[v._v("卸载命令\n"),i("ul",[i("li",[i("code",[v._v("umount 设备文件名或挂载点")])]),v._v(" "),i("li",[i("code",[v._v("umount /media/cdrom")])])])])]),v._v(" "),i("p",[v._v("挂载U盘(fat16识别为fat,fat32识别位vfat)")]),v._v(" "),i("ul",[i("li",[i("code",[v._v("fdisk -l")]),v._v(" "),i("ul",[i("li",[v._v("查看U盘设备文件名")])])]),v._v(" "),i("li",[i("code",[v._v("mount -t Vfat /dev/sdb1 /mnt/usb")])])]),v._v(" "),i("p",[v._v("支持NTFS文件系统")]),v._v(" "),i("ul",[i("li",[v._v("NTFS-3G插件")])]),v._v(" "),i("p",[i("img",{attrs:{src:"https://gitee.com/chobits01/image/raw/master/image/image-20210210153118705.png",alt:"image-20210210153118705"}})]),v._v(" "),i("ul",[i("li",[v._v("使用\n"),i("ul",[i("li",[i("code",[v._v("mount -t ntfs-3g 分区设备文件名 挂载点")])])])])]),v._v(" "),i("h2",{attrs:{id:"fidsk-分区"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#fidsk-分区"}},[v._v("#")]),v._v(" fidsk 分区")]),v._v(" "),i("p",[v._v("fdisk命令分区过程")]),v._v(" "),i("ul",[i("li",[v._v("添加新硬盘")]),v._v(" "),i("li",[v._v("查看新硬盘\n"),i("ul",[i("li",[v._v("fdisk -l")])])]),v._v(" "),i("li",[v._v("使用fdisk命令分区\n"),i("ul",[i("li",[v._v("fdisk /dev/sdb   只能写sdb因为还没分区")])])])]),v._v(" "),i("p",[i("img",{attrs:{src:"https://gitee.com/chobits01/image/raw/master/image/image-20210210155207734.png",alt:"image-20210210155207734"}})]),v._v(" "),i("p",[v._v("重新读取分区表信息")]),v._v(" "),i("ul",[i("li",[v._v("partprobe")])]),v._v(" "),i("p",[v._v("格式化分区")]),v._v(" "),i("ul",[i("li",[i("code",[v._v("mkfs -t ext4 /dev/sdb1")])])]),v._v(" "),i("p",[v._v("建立挂载点并挂载(每次重启都要手动挂载)")]),v._v(" "),i("ul",[i("li",[i("code",[v._v("mkdir /disk1")])]),v._v(" "),i("li",[i("code",[v._v("mount /dev/sdb1 /disk1")])])]),v._v(" "),i("h2",{attrs:{id:"分区自动挂载与fstab文件修复"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#分区自动挂载与fstab文件修复"}},[v._v("#")]),v._v(" 分区自动挂载与fstab文件修复")]),v._v(" "),i("ol",[i("li",[v._v("/etc/fstab 文件\n"),i("ol",[i("li",[v._v("分区设备文件名或UUID(硬盘通用唯一识别码)")]),v._v(" "),i("li",[v._v("挂载点")]),v._v(" "),i("li",[v._v("文件系统名称")]),v._v(" "),i("li",[v._v("挂载参数")]),v._v(" "),i("li",[v._v("指定分区是否被dump备份,0代表不备份,1代表每天备份,2代表不定期备份")]),v._v(" "),i("li",[v._v("指定分区是否被fsck检测,0代表不检测,其他数字代表检测的优先级,那么当然1的优先级比2高")]),v._v(" "),i("li",[i("code",[v._v("mount -a")]),v._v(" 查看一下是否挂载成功")]),v._v(" "),i("li",[v._v("如果修改错误,重启后的处理方法\n"),i("ol",[i("li",[v._v("mount -o remount,rw /")]),v._v(" "),i("li",[v._v("vim /etc/fstab")])])])])])])])}),[],!1,null,null,null);_.default=t.exports}}]);