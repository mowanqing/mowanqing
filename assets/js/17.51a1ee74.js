(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{421:function(v,_,i){"use strict";i.r(_);var l=i(21),e=Object(l.a)({},(function(){var v=this,_=v.$createElement,i=v._self._c||_;return i("ContentSlotsDistributor",{attrs:{"slot-key":v.$parent.slotKey}},[i("h2",{attrs:{id:"shell基础"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#shell基础"}},[v._v("#")]),v._v(" Shell基础")]),v._v(" "),i("p",[v._v("Shell概述")]),v._v(" "),i("blockquote",[i("p",[v._v("Shell 是一个命令行解释器,它为用户提供了一个向Linux内核发送请求以便运行程序的界面系统级程序,用户可以用Shell来启动,挂起,停止甚至是编写一些程序.")])]),v._v(" "),i("p",[v._v("Shell脚本的执行方式")]),v._v(" "),i("ul",[i("li",[i("p",[v._v("echo输出命令")]),v._v(" "),i("ul",[i("li",[v._v("-e 支持转义符")])])]),v._v(" "),i("li",[i("p",[i("img",{attrs:{src:"https://gitee.com/chobits01/image/raw/master/image/image-20210210163327177.png",alt:"image-20210210163327177"}})])]),v._v(" "),i("li",[i("p",[i("code",[v._v('echo -e "\\e[1;31m abcd \\e[0m"')])]),v._v(" "),i("ul",[i("li",[v._v("\\e[1开启颜色输出")]),v._v(" "),i("li",[v._v("\\e[0m结束颜色输出")]),v._v(" "),i("li",[v._v("31m代表红色")])])])]),v._v(" "),i("p",[i("img",{attrs:{src:"https://gitee.com/chobits01/image/raw/master/image/image-20210210163937570.png",alt:"image-20210210163937570"}})]),v._v(" "),i("ul",[i("li",[v._v("window的回车符转unix\n"),i("ul",[i("li",[v._v("dos2unix 文件名")]),v._v(" "),i("li",[v._v("Tetris.sh")])])])]),v._v(" "),i("p",[i("strong",[v._v("Bash的基本功能")])]),v._v(" "),i("p",[v._v("历史命令与命令补全")]),v._v(" "),i("ul",[i("li",[v._v("history [选项] [历史命令保存文件]\n"),i("ul",[i("li",[v._v("-c 清空历史命令")]),v._v(" "),i("li",[v._v("-w 把缓存中的历史命令写入历史命令保存文件 ~/.bash_history")]),v._v(" "),i("li",[v._v("历史命令默认保存1000条,可以在环境变量配置文件/etc/profile中进行修改")])])])]),v._v(" "),i("p",[v._v("命令别名与常用快捷键")]),v._v(" "),i("ul",[i("li",[i("code",[v._v("alias 别名='原命令'")]),v._v(" 设定命令别名")]),v._v(" "),i("li",[v._v("alias 查询命令别名")])]),v._v(" "),i("p",[v._v("命令执行时顺序")]),v._v(" "),i("ol",[i("li",[v._v("执行用绝对路径或相对路径执行的命令")]),v._v(" "),i("li",[v._v("执行别名")]),v._v(" "),i("li",[v._v("执行bash的内部命令(比如cd)")]),v._v(" "),i("li",[v._v("执行按照$PATH环境变量定义的目录查找顺序找到的第一个命令")])]),v._v(" "),i("p",[v._v("让别名永久生效:")]),v._v(" "),i("ul",[i("li",[v._v("vi /root/.bashrc(修改用户家目录下的.bashrc文件)")])]),v._v(" "),i("p",[v._v("删除别名")]),v._v(" "),i("ul",[i("li",[v._v("unalias 别名")])]),v._v(" "),i("p",[v._v("bash常用快捷键")]),v._v(" "),i("p",[i("img",{attrs:{src:"https://gitee.com/chobits01/image/raw/master/image/image-20210210172444380.png",alt:"image-20210210172444380"}})]),v._v(" "),i("p",[v._v("输入输出重定向(将显示到屏幕的输出重定向到文件)")]),v._v(" "),i("p",[i("img",{attrs:{src:"https://gitee.com/chobits01/image/raw/master/image/image-20210210172740617.png",alt:"image-20210210172740617"}})]),v._v(" "),i("p",[i("img",{attrs:{src:"https://gitee.com/chobits01/image/raw/master/image/image-20210210172920431.png",alt:"image-20210210172920431"}})]),v._v(" "),i("p",[i("img",{attrs:{src:"https://gitee.com/chobits01/image/raw/master/image/image-20210212095532352.png",alt:"image-20210212095532352"}})]),v._v(" "),i("ul",[i("li",[v._v("标准输出和错误输出都丢弃到黑洞\n"),i("ul",[i("li",[i("code",[v._v("ls &>/dev/null")])])])])]),v._v(" "),i("p",[v._v("输入重定向(用文件代替键盘输入)")]),v._v(" "),i("ul",[i("li",[i("code",[v._v("wc [选项][文件名]")]),v._v(" "),i("ul",[i("li",[v._v("-c 统计字节数")]),v._v(" "),i("li",[v._v("-w 统计单词数")]),v._v(" "),i("li",[v._v("-l 统计行数")]),v._v(" "),i("li",[v._v("wc < anaconda-ks.cfg")])])])]),v._v(" "),i("p",[v._v("多命令顺序执行与管道符")]),v._v(" "),i("p",[i("img",{attrs:{src:"https://gitee.com/chobits01/image/raw/master/image/image-20210212100923287.png",alt:"image-20210212100923287"}})]),v._v(" "),i("ul",[i("li",[i("code",[v._v('dd if=输入文件 of=输入文件 bs=字节数 count="个数"')]),v._v(" 磁盘复制或数据复制(可以复制分区,包括文件系统)\n"),i("ul",[i("li",[v._v("if=输入文件  指定源文件或源设备")]),v._v(" "),i("li",[v._v("of=输出文件  指定目标文件或目标设备")]),v._v(" "),i("li",[v._v("bs=字节数  指定一次输入/输出多少字节,即把在黑鞋字节看做一个数据块")]),v._v(" "),i("li",[v._v("count=个数  指定输入/输出多少个数据块")]),v._v(" "),i("li",[i("code",[v._v("date ; dd if=/dev/zero of=/root/testfile bs=1K count=100000 ; date")])])])]),v._v(" "),i("li",[v._v("判断命令是否正确执行\n"),i("ul",[i("li",[i("code",[v._v("ls && echo yes || echo no")])])])])]),v._v(" "),i("p",[v._v("管道符")]),v._v(" "),i("ul",[i("li",[v._v("命令1 | 命令2\n"),i("ul",[i("li",[v._v("命令1的正确输出作为命令2的操作对象")]),v._v(" "),i("li",[v._v("颜色显示")])])]),v._v(" "),i("li",[i("code",[v._v('grep [选项] "搜索内容" 文件名')]),v._v(" "),i("ul",[i("li",[v._v("-i: 忽略大小写")]),v._v(" "),i("li",[v._v("-n: 输出行号")]),v._v(" "),i("li",[v._v("-v: 反向查找")]),v._v(" "),i("li",[v._v("color=auto 搜索出的关键字用颜色显示")])])])]),v._v(" "),i("p",[v._v("通配符与其他特殊符号")]),v._v(" "),i("p",[i("img",{attrs:{src:"https://gitee.com/chobits01/image/raw/master/image/image-20210212104024054.png",alt:"image-20210212104024054"}})]),v._v(" "),i("p",[i("img",{attrs:{src:"https://gitee.com/chobits01/image/raw/master/image/image-20210212104619184.png",alt:"image-20210212104619184"}})]),v._v(" "),i("p",[i("strong",[v._v("Bash的变量")])]),v._v(" "),i("p",[v._v("用户自定义变量")]),v._v(" "),i("p",[i("strong",[v._v("变量")]),v._v(":")]),v._v(" "),i("blockquote",[i("p",[v._v("变量时计算机内存的单元,其中存放的值可以改变.当Shell脚本需要保存一些信息时,如一个文件名或时一个数字,就把它存放在一个变量中.每个变量有一个名字,所以很容易引用它.使用变量可以保存有用信息,使系统获知用户相关设置,变量也可以用于保存暂时信息.")])]),v._v(" "),i("p",[v._v("变量规则:")]),v._v(" "),i("ol",[i("li",[v._v("Bash中,变量的默认类型都是字符串型,如果要进行数值运算,则必须指定变量类型为数值型.")]),v._v(" "),i("li",[v._v("变量用等号连接值,等号左右两侧不能有空格.")]),v._v(" "),i("li",[v._v("变量的值如果有空格,需要使用单引号或双引号包括.")]),v._v(" "),i("li",[v._v('在变量的值中,可以使用""转义符')]),v._v(" "),i("li",[v._v('如果需要增加变量的值,那么可以进行变量值的叠加.不过变量需要用双引号包含"$变量名"或用${变量名}包含')]),v._v(" "),i("li",[v._v("如果是把命令的结果作为变量值赋予变量,则需要使用反引号或$()包含命令")]),v._v(" "),i("li",[v._v("环境变量名建议大写,便于区分")])]),v._v(" "),i("p",[v._v("变量分类:")]),v._v(" "),i("ul",[i("li",[i("p",[v._v("用户自定义变量")])]),v._v(" "),i("li",[i("p",[v._v("环境变量:")]),v._v(" "),i("ul",[i("li",[v._v("这种变量中主要保存的是和系统操作环境相关的数据")])])]),v._v(" "),i("li",[i("p",[v._v("位置参数变量:")]),v._v(" "),i("ul",[i("li",[v._v("这种变量主要是用来向脚本当中传递参数或数据的,变量名不能自定义,变量作用是固定的")])])]),v._v(" "),i("li",[i("p",[v._v("预定义变量:是Bash中已经定义好的变量")])]),v._v(" "),i("li",[i("p",[v._v("变量调用")]),v._v(" "),i("ul",[i("li",[i("code",[v._v("echo $name")])])])]),v._v(" "),i("li",[i("p",[v._v("变量查看")]),v._v(" "),i("ul",[i("li",[i("code",[v._v("set")])])])]),v._v(" "),i("li",[i("p",[v._v("变量删除")]),v._v(" "),i("ul",[i("li",[i("code",[v._v("unset name")])])])])]),v._v(" "),i("p",[v._v("环境变量")]),v._v(" "),i("blockquote",[i("p",[v._v("用户自定义变量只在当前的Shell中生效,而环境变量会在当前Shell和这个Shell的所有子Shell当中生效.如果")]),v._v(" "),i("p",[v._v("把环境变量写入相应的配置文件,那么这个环境变量就会在所有的Shell中生效.")])]),v._v(" "),i("p",[v._v("设置环境变量")]),v._v(" "),i("ul",[i("li",[i("p",[v._v("声明变量")]),v._v(" "),i("ul",[i("li",[v._v("export 变量名=变量值  (全局变量)")]),v._v(" "),i("li",[v._v("name=xiaoming(局部变量)")]),v._v(" "),i("li",[v._v("export name(变为全局变量)")])])]),v._v(" "),i("li",[i("p",[v._v("查询变量")]),v._v(" "),i("ul",[i("li",[v._v("env")])])]),v._v(" "),i("li",[i("p",[v._v("删除变量")]),v._v(" "),i("ul",[i("li",[v._v("unset 变量名")])])])]),v._v(" "),i("p",[v._v("父子Shell")]),v._v(" "),i("ul",[i("li",[v._v("在Shell中开启子Shell\n"),i("ul",[i("li",[v._v("csh,bash")]),v._v(" "),i("li",[v._v("pstree")])])])]),v._v(" "),i("p",[v._v("系统常见环境变量")]),v._v(" "),i("ul",[i("li",[v._v("PATH:\n"),i("ul",[i("li",[v._v("系统查找命令的路径")])])]),v._v(" "),i("li",[v._v("echo $PATH")]),v._v(" "),i("li",[v._v("PATH变量叠加\n"),i("ul",[i("li",[v._v('PATH="$PATH":/root/sh')])])])]),v._v(" "),i("p",[i("img",{attrs:{src:"https://gitee.com/chobits01/image/raw/master/image/image-20210212142235639.png",alt:"image-20210212142235639"}})]),v._v(" "),i("p",[v._v("位置参数变量")]),v._v(" "),i("p",[i("img",{attrs:{src:"https://gitee.com/chobits01/image/raw/master/image/image-20210212142915931.png",alt:"image-20210212142915931"}})]),v._v(" "),i("p",[v._v("预定义变量")]),v._v(" "),i("p",[i("img",{attrs:{src:"https://gitee.com/chobits01/image/raw/master/image/image-20210212152359608.png",alt:"image-20210212152359608"}})]),v._v(" "),i("p",[v._v("接收键盘输入:")]),v._v(" "),i("p",[i("code",[v._v("read [选项] [变量名]")])]),v._v(" "),i("ul",[i("li",[v._v('-p "提示信息" :在等待read输入时,输出提示信息')]),v._v(" "),i("li",[v._v("-t秒数:read命令会一直等待用户输入,使用此选项可以指定等待时间")]),v._v(" "),i("li",[v._v("-n 字符数: read命令只接收指定的字符数,就会执行")]),v._v(" "),i("li",[v._v("-s:隐藏输入的数据,适用于机密信息的输入")])]),v._v(" "),i("div",{staticClass:"language-shell line-numbers-mode"},[i("pre",{pre:!0,attrs:{class:"language-shell"}},[i("code",[i("span",{pre:!0,attrs:{class:"token shebang important"}},[v._v("#!/bin/bash")]),v._v("\n\n"),i("span",{pre:!0,attrs:{class:"token builtin class-name"}},[v._v("read")]),v._v(" -t "),i("span",{pre:!0,attrs:{class:"token number"}},[v._v("30")]),v._v(" -p "),i("span",{pre:!0,attrs:{class:"token string"}},[v._v('"Plead input your name:"')]),v._v(" name\n\n"),i("span",{pre:!0,attrs:{class:"token builtin class-name"}},[v._v("echo")]),v._v(" "),i("span",{pre:!0,attrs:{class:"token string"}},[v._v('"Your name is '),i("span",{pre:!0,attrs:{class:"token variable"}},[v._v("$name")]),v._v('"')]),v._v("\n\n")])]),v._v(" "),i("div",{staticClass:"line-numbers-wrapper"},[i("span",{staticClass:"line-number"},[v._v("1")]),i("br"),i("span",{staticClass:"line-number"},[v._v("2")]),i("br"),i("span",{staticClass:"line-number"},[v._v("3")]),i("br"),i("span",{staticClass:"line-number"},[v._v("4")]),i("br"),i("span",{staticClass:"line-number"},[v._v("5")]),i("br"),i("span",{staticClass:"line-number"},[v._v("6")]),i("br")])]),i("p",[i("strong",[v._v("Bash的运算符")])]),v._v(" "),i("p",[v._v("数值运算与运算符")]),v._v(" "),i("ol",[i("li",[v._v("declare声明变量类型\n"),i("ol",[i("li",[i("code",[v._v("declare [+/-] [选项] 变量名")]),v._v(" "),i("ol",[i("li",[v._v("-: 给变量设定嗯类型属性")]),v._v(" "),i("li",[v._v("+:取消变量的类型属性")]),v._v(" "),i("li",[v._v("-i:将变量声明为整数型(integer)")]),v._v(" "),i("li",[v._v("-x:将变量声明为环境变量")]),v._v(" "),i("li",[v._v("-p:显示指定变量的被声明的类型")])])])])]),v._v(" "),i("li",[v._v("expr或let数值运算工具\n"),i("ol",[i("li",[v._v("aa=11")]),v._v(" "),i("li",[v._v("bb=22")]),v._v(" "),i("li",[v._v("dd=$(expr $aa + $bb)\n"),i("ol",[i("li",[v._v("dd的值是aa和bb的和.注意+号左右两侧必须有空格")])])])])]),v._v(" "),i("li",[v._v('"$((运算式))"或"$[运算式]"')])]),v._v(" "),i("p",[i("img",{attrs:{src:"https://gitee.com/chobits01/image/raw/master/image/image-20210212155302336.png",alt:"image-20210212155302336"}})]),v._v(" "),i("p",[v._v("变量测试与内容替换")]),v._v(" "),i("p",[i("img",{attrs:{src:"https://gitee.com/chobits01/image/raw/master/image/image-20210212155645708.png",alt:"image-20210212155645708"}})]),v._v(" "),i("p",[i("strong",[v._v("环境变量配置文件")])]),v._v(" "),i("ul",[i("li",[v._v("环境变量配置文件简介\n"),i("ul",[i("li",[v._v("source命令\n"),i("ul",[i("li",[v._v("source  配置文件")]),v._v(" "),i("li",[v._v(".  配置文件")])])]),v._v(" "),i("li",[v._v("简介:\n"),i("ul",[i("li",[v._v("环境变量配置文件中主要是定义对系统的操作环境生效的系统默认环境变量,比如PATH,HISTSIZE,PSI,HOSTNAME等默认环境变量")]),v._v(" "),i("li",[i("code",[v._v("/etc/profile")])]),v._v(" "),i("li",[i("code",[v._v("/etc/profile.d/*.sh")])]),v._v(" "),i("li",[i("code",[v._v("~/.bash_profile")])]),v._v(" "),i("li",[i("code",[v._v("~/.bashrc")])]),v._v(" "),i("li",[i("code",[v._v("/etc/bashrc")])])])])])]),v._v(" "),i("li",[v._v("环境变量配置文件作用")])]),v._v(" "),i("p",[i("img",{attrs:{src:"https://gitee.com/chobits01/image/raw/master/image/image-20210212162253416.png",alt:"image-20210212162253416"}})]),v._v(" "),i("ul",[i("li",[v._v("/etc/profile的作用:\n"),i("ul",[i("li",[v._v("USER")]),v._v(" "),i("li",[v._v("LOGNAME")]),v._v(" "),i("li",[v._v("MAIL")]),v._v(" "),i("li",[v._v("PATH")]),v._v(" "),i("li",[v._v("HOSTNAME")]),v._v(" "),i("li",[v._v("HISTSIZE")]),v._v(" "),i("li",[v._v("umask")]),v._v(" "),i("li",[v._v("调用/etc/profile.d/*.sh文件")])])])]),v._v(" "),i("p",[v._v("其他配置文件和登录信息")]),v._v(" "),i("ol",[i("li",[v._v("注销时生效的环境变量配置文件\n"),i("ul",[i("li",[v._v("~/.bash_logout")])])]),v._v(" "),i("li",[v._v("其他配置文件\n"),i("ol",[i("li",[v._v("~/bash_history")])])]),v._v(" "),i("li",[v._v("Shell登录信息\n"),i("ol",[i("li",[v._v("本地终端欢迎信息:/etc/issue")])])])]),v._v(" "),i("p",[i("img",{attrs:{src:"https://gitee.com/chobits01/image/raw/master/image/image-20210212170020928.png",alt:"image-20210212170020928"}})]),v._v(" "),i("p",[i("img",{attrs:{src:"https://gitee.com/chobits01/image/raw/master/image/image-20210212170342870.png",alt:"image-20210212170342870"}})]),v._v(" "),i("p",[i("img",{attrs:{src:"https://gitee.com/chobits01/image/raw/master/image/image-20210212170545327.png",alt:"image-20210212170545327"}})])])}),[],!1,null,null,null);_.default=e.exports}}]);